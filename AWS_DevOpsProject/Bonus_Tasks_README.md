# Demo
Demo and Practice


                                   Internet
                                       â”‚
                                       â–¼
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚  Internet Gateway      â”‚
                          â”‚  devops-igw            â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                                           â”‚
                â–¼                                           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Public Subnet 1        â”‚              â”‚  Public Subnet 2        â”‚
    â”‚  10.0.1.0/24            â”‚              â”‚  10.0.2.0/24            â”‚
    â”‚  eu-west-1a             â”‚              â”‚  eu-west-1b             â”‚
    â”‚                         â”‚              â”‚                         â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
    â”‚  â”‚ Bastion EC2      â”‚   â”‚              â”‚  â”‚ Jenkins ALB      â”‚   â”‚
    â”‚  â”‚ bastion-sg       â”‚   â”‚              â”‚  â”‚ alb-sg           â”‚   â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
    â”‚                         â”‚              â”‚           â”‚             â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚              â”‚           â”‚             â”‚
    â”‚  â”‚ NAT Gateway      â”‚   â”‚              â”‚           â”‚             â”‚
    â”‚  â”‚ devops-ntgw      â”‚   â”‚              â”‚           â”‚             â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚              â”‚           â”‚             â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚                                        â”‚
                â”‚ (Routes 0.0.0.0/0)                     â”‚ (/jenkins path)
                â”‚                                        â”‚
                â–¼                                        â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                    Private Subnets                            â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚  Private Subnet Jenkins  â”‚  Private Subnet App                â”‚
    â”‚  10.0.3.0/24             â”‚  10.0.4.0/24                       â”‚
    â”‚  eu-west-1a              â”‚  eu-west-1b                        â”‚
    â”‚                          â”‚                                    â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
    â”‚  â”‚ Jenkins EC2      â”‚    â”‚  â”‚ App EC2          â”‚              â”‚
    â”‚  â”‚ jenkins-sg       â”‚â—„â”€â”€â”€â”¼â”€â”€â”¤ app-sg           â”‚              â”‚
    â”‚  â”‚ Port: 8080       â”‚    â”‚  â”‚                  â”‚              â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
    â”‚                          â”‚                                    â”‚
    â”‚  Target: jenkins-tg      â”‚                                    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                Backend Infrastructure                       â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚  S3 Bucket: devops-s3-terraform-state-suman                 â”‚
    â”‚  DynamoDB: terraform-lock-table                             â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜




































## ğŸ’» Cost Breakdown by Component

### EC2 Instances: $58.74/month (45%)

| Resource | Type | Monthly Cost |
|----------|------|--------------|
| Bastion EC2 | t3.micro + 20GB | $9.19 |
| Jenkins EC2 | t3.medium + 30GB | $32.77 |
| App EC2 | t3.small + 20GB | $16.78 |

### Networking: $70.40/month (54%)

| Resource | Monthly Cost |
|----------|--------------|
| NAT Gateway (incl. data) | $37.35 |
| Application Load Balancer | $19.35 |
| Data Transfer | $13.70 |

### Storage & Other: $1.44/month (1%)

| Resource | Monthly Cost |
|----------|--------------|
| S3 (Terraform state) | $0.02 |
| DynamoDB (state locking) | $0.02 |
| ECR (container registry) | $1.40 |

---

## ğŸ“ˆ Cost Distribution

```
Total Monthly: $129.88

â”œâ”€â”€ NAT Gateway: $37.35 (29%)
â”œâ”€â”€ Jenkins EC2: $32.77 (25%)
â”œâ”€â”€ ALB: $19.35 (15%)
â”œâ”€â”€ App EC2: $16.78 (13%)
â”œâ”€â”€ Data Transfer: $13.70 (11%)
â”œâ”€â”€ Bastion EC2: $9.19 (7%)
â””â”€â”€ Storage/Other: $1.44 (1%)


terraform-backend/
â””â”€â”€ main.tf

terraform-aws-infra/
â”œâ”€â”€ backend.tf
â”œâ”€â”€ provider.tf
â”œâ”€â”€ variables.tf
â”œâ”€â”€ vpc.tf
â”œâ”€â”€ subnets.tf
â”œâ”€â”€ igw.tf
â”œâ”€â”€ nat.tf
â”œâ”€â”€ route_tables.tf
â”œâ”€â”€ security_groups.tf
â”œâ”€â”€ ec2.tf
â”œâ”€â”€ alb.tf
â””â”€â”€ outputs.tf




nodejs-docker-jenkins-demo/
â”œâ”€â”€ vote/
â”‚   â”œâ”€â”€ app.py
â”‚   â”œâ”€â”€ requirements.txt
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â”œâ”€â”€ templates/
â”‚   â”‚   â””â”€â”€ index.html
â”‚   â””â”€â”€ static/
â”‚       â””â”€â”€ stylesheets/
â”‚           â””â”€â”€ style.css
â””â”€â”€ Jenkinsfile


ansible-config/
â”œâ”€â”€ inventory/
â”‚   â””â”€â”€ hosts.ini
â””â”€â”€ playbooks/
    â””â”€â”€ install-docker.yml














