# ğŸš€ DevOps Project: Terraform, Ansible & Jenkins CI/CD on AWS

## ğŸ“Œ Project Overview

This repository contains an **end-to-end DevOps project** demonstrating the practical implementation of:

- **Infrastructure as Code (Terraform)**
- **Configuration Management (Ansible)**
- **CI/CD Automation (Jenkins, Docker, Amazon ECR)**

The project provisions AWS infrastructure, automatically configures servers, and deploys a containerized application using a Jenkins CI/CD pipeline.

**AWS Region:** eu-west-1 (Ireland)

---

## ğŸ§© Project Tasks

### ğŸ”¹ Task-1: Infrastructure Provisioning (Terraform)
- Custom VPC with public and private subnets
- Internet Gateway and NAT Gateway
- Route tables (public & private)
- Security Groups (Bastion, Jenkins, App, ALB)
- EC2 Instances:
  - Bastion Host
  - Jenkins Server
  - Application Server
- Application Load Balancer (ALB)
- Terraform Remote Backend:
  - S3 (state storage)
  - DynamoDB (state locking)

---

### ğŸ”¹ Task-2: Configuration Management (Ansible)
- Automated Docker installation
- Bastion host used as Ansible control node
- Jenkins and App EC2 configured as managed nodes
- Idempotent playbooks for repeatable execution

---

### ğŸ”¹ Task-3: CI/CD Pipeline (Jenkins + Docker + ECR)
- Jenkins pulls code from GitHub
- Docker image built using Dockerfile
- Image pushed to Amazon ECR
- Jenkins deploys container on App EC2 via SSH
- Old container stopped and replaced with new one

---

## ğŸ“ Codebase Structure

All code is maintained in a **single GitHub repository**, logically separated by task.

---

### ğŸ”¹ Terraform Backend (Remote State)
terraform-backend/
â””â”€â”€ main.tf

Used to create:
- S3 bucket for Terraform state
- DynamoDB table for state locking

---

### ğŸ”¹ Terraform Infrastructure (Task-1)
```
terraform-aws-infra/
â”œâ”€â”€ backend.tf
â”œâ”€â”€ provider.tf
â”œâ”€â”€ variables.tf
â”œâ”€â”€ vpc.tf
â”œâ”€â”€ subnets.tf
â”œâ”€â”€ igw.tf
â”œâ”€â”€ nat.tf
â”œâ”€â”€ route_tables.tf
â”œâ”€â”€ security_groups.tf
â”œâ”€â”€ ec2.tf
â”œâ”€â”€ alb.tf
â””â”€â”€ outputs.tf
```

---


---

### ğŸ”¹ Ansible Configuration (Task-2)
```
ansible-config/
â”œâ”€â”€ inventory/
â”‚ â””â”€â”€ hosts.ini
â””â”€â”€ playbooks/
â””â”€â”€ install-docker.yml 

```
### ğŸ”¹ Application & CI/CD (Task-3)
```
nodejs-docker-jenkins-demo/
â”œâ”€â”€ vote/
â”‚ â”œâ”€â”€ app.py
â”‚ â”œâ”€â”€ requirements.txt
â”‚ â”œâ”€â”€ Dockerfile
â”‚ â”œâ”€â”€ templates/
â”‚ â”‚ â””â”€â”€ index.html
â”‚ â””â”€â”€ static/
â”‚ â””â”€â”€ stylesheets/
â”‚ â””â”€â”€ style.css
â””â”€â”€ Jenkinsfile
```
---

## âš™ï¸ How to Execute the Project
---
Terraform (Task-1)
```bash
cd terraform-backend
terraform init
terraform apply

cd ../terraform-aws-infra
terraform init
terraform plan
terraform apply

Ansible (Task-2)
cd ansible-config
ansible all -m ping
ansible-playbook playbooks/install-docker.yml

Jenkins (Task-3)

Configure Jenkins Pipeline using Jenkinsfile
Trigger Build Now
Application gets deployed automatically on App EC2

Cost Distribution (Estimated Monthly)

Total Estimated Monthly Cost: $129.88
â”œâ”€â”€ NAT Gateway        : $37.35  (29%)
â”œâ”€â”€ Jenkins EC2        : $32.77  (25%)
â”œâ”€â”€ Application Load Balancer (ALB)
â”‚                      $19.35  (15%)
â”œâ”€â”€ App EC2            : $16.78  (13%)
â”œâ”€â”€ Data Transfer      : $13.70  (11%)
â”œâ”€â”€ Bastion EC2        : $9.19   (7%)
â””â”€â”€ Storage / Other    : $1.44   (1%)
